<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Stream - AI Media Platform</title>
    <link rel="stylesheet" href="/static/css/main.css">
</head>
<body>
    <header class="header">
        <div class="container">
            <div class="logo">
                <h1>ü§ñ AI Radio</h1>
                <p>Live Stream</p>
            </div>
            <nav class="nav">
                <a href="/">Home</a>
                <a href="/stream" class="active">Live Stream</a>
                <a href="/explore">Explore</a>
                <a href="/upload">Upload</a>
                <a href="/dashboard">Dashboard</a>
            </nav>
        </div>
    </header>

    <main class="main stream-page">
        <div class="container">
            <!-- Live Status -->
            <div class="live-status">
                <span class="live-indicator">üî¥ LIVE</span>
                <span class="listener-count" id="listenerCount">42 listeners</span>
            </div>

            <!-- Main Player -->
            <section class="main-player">
                <div class="player-card">
                    <div class="album-art" id="albumArt">
                        <div class="art-placeholder">üéµ</div>
                    </div>
                    
                    <div class="track-details">
                        <h1 id="currentTitle">Loading...</h1>
                        <p id="currentArtist">AI DJ</p>
                        <p class="track-description" id="trackDescription">AI-generated content playing live</p>
                    </div>

                    <div class="player-controls">
                        <button class="control-btn" id="playPauseBtn">‚ñ∂Ô∏è</button>
                        <div class="volume-section">
                            <span class="volume-icon">üîä</span>
                            <input type="range" class="volume-slider" id="volumeSlider" min="0" max="100" value="50">
                            <span class="volume-value" id="volumeValue">50%</span>
                        </div>
                    </div>

                    <audio id="liveStream" preload="none">
                        <source src="/stream" type="audio/mpeg">
                        Your browser does not support the audio element.
                    </audio>
                </div>
            </section>

            <!-- Now Playing Info -->
            <section class="now-playing-info">
                <h2>Now Playing</h2>
                <div class="current-info" id="currentInfo">
                    <div class="info-item">
                        <span class="label">Genre:</span>
                        <span id="currentGenre">AI Electronic</span>
                    </div>
                    <div class="info-item">
                        <span class="label">Duration:</span>
                        <span id="currentDuration">3:42</span>
                    </div>
                    <div class="info-item">
                        <span class="label">AI Model:</span>
                        <span id="aiModel">GPT-OSS</span>
                    </div>
                    <div class="info-item">
                        <span class="label">Generated:</span>
                        <span id="generatedTime">2 hours ago</span>
                    </div>
                </div>
            </section>

            <!-- DJ Intro Display -->
            <section class="dj-intro" id="djIntroSection" style="display: none;">
                <h3>üéôÔ∏è AI DJ Says:</h3>
                <p id="djIntroText"></p>
            </section>

            <!-- Playlist Queue -->
            <section class="playlist-queue">
                <h2>Coming Up</h2>
                <div class="queue-list" id="queueList">
                    <!-- Queue items will be loaded here -->
                </div>
            </section>

            <!-- Chat Section -->
            <section class="chat-section">
                <h2>Live Chat</h2>
                <div class="chat-container">
                    <div class="chat-messages" id="chatMessages">
                        <div class="chat-message system">
                            <span class="timestamp">12:34</span>
                            <span class="message">Welcome to AI Radio! üéµ</span>
                        </div>
                    </div>
                    <div class="chat-input">
                        <input type="text" id="chatInput" placeholder="Type a message..." maxlength="200">
                        <button id="sendChat">Send</button>
                    </div>
                </div>
            </section>

            <!-- Stream Quality Settings -->
            <section class="stream-settings">
                <h3>Stream Quality</h3>
                <div class="quality-options">
                    <label>
                        <input type="radio" name="quality" value="high" checked>
                        <span>High Quality (192 kbps)</span>
                    </label>
                    <label>
                        <input type="radio" name="quality" value="medium">
                        <span>Medium Quality (128 kbps)</span>
                    </label>
                    <label>
                        <input type="radio" name="quality" value="low">
                        <span>Low Quality (64 kbps)</span>
                    </label>
                </div>
            </section>

            <!-- Recently Played -->
            <section class="recent-tracks">
                <h2>Recently Played</h2>
                <div class="tracks-list" id="recentTracks">
                    <!-- Recent tracks will be loaded here -->
                </div>
            </section>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p>&copy; 2024 AI Media Platform. Currently streaming AI-generated content.</p>
        </div>
    </footer>

    <script src="/static/js/main.js"></script>
    <script src="/static/js/stream.js"></script>
</body>
</html>